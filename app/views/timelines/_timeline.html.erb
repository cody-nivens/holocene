<link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
<% toggle ||= "off" %>

<script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>

<div id='timeline-embed' style="width: 100%; height: 600px"></div>

  <script type="text/javascript">
      //var timeline_json = <%#= raw json_items.to_json %>; // replace make_the_json() with the JSON object you created
      var timeline_json = <%== object.timeline_json((toggle == "on" ? true : false)).to_json %>; // replace make_the_json() with the JSON object you created
          // two arguments: the id of the Timeline container (no '#')
          // and the JSON object or an instance of TL.TimelineConfig created from
          // a suitable JSON object
           var additionalOptions = {
              start_at_end: false,
              //default_bg_color: {r:0, g:0, b:0},
              timenav_height: 300
            }

          window.timeline = new TL.Timeline('timeline-embed', timeline_json, additionalOptions);
  </script>

